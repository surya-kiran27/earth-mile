{"version":3,"sources":["Context/actions.js","Context/reducer.js","Context/context.js","components/EarthMileMap.js","config/routes.js","components/Login.js","components/Home.js","components/AppRoute.js","components/Navbar.js","index.js"],"names":["ROOT_URL","loginUser","dispatch","a","requestOptions","method","headers","credentials","type","fetch","response","json","data","user","payload","localStorage","setItem","JSON","stringify","error","removeItem","initialState","getItem","parse","loading","errorMessage","AuthReducer","action","Error","AuthStateContext","React","createContext","AuthDispatchContext","useAuthState","context","useContext","undefined","useAuthDispatch","AuthProvider","children","useReducer","Provider","value","DefaultIcon","L","icon","iconUrl","iconSize","iconAnchor","shadowUrl","iconShadow","routes","path","component","Container","style","marginTop","Button","variant","color","onClick","window","location","href","isPrivate","props","useState","earth_mile_id","setEarthMile","position","setPosition","lat","lng","markerPosition","setMarkerPosition","setCreate","earthMiles","setEarthMiles","open","setOpen","name","setName","address","setAddress","setErr","fillRed","fillColor","fillBlue","fillGreen","circleRef","useRef","useEffect","navigator","geolocation","getCurrentPosition","coords","latitude","longitude","console","log","alert","timeout","enableHighAccuracy","axios","get","success","getEarthMile","earth_miles","getEarthMiles","MapContainer","center","zoom","scrollWheelZoom","width","height","TileLayer","attribution","url","LayerGroup","map","earthMile","Circle","pathOptions","radius","Tooltip","Typography","display","gutterBottom","users","length","posts","fromNow","date","createdAt","Marker","draggable","title","MapConsumer","on","e","dragging","enable","removeEventListener","ref","eventHandlers","mousedown","disable","latlng","float","zIndex","margin","disabled","Dialog","onClose","aria-labelledby","DialogTitle","id","DialogContent","TextField","autoFocus","label","onChange","target","fullWidth","DialogActions","coordinates","post","res","message","history","push","login","AppRoutes","Component","rest","state","render","Boolean","to","pathname","Navbar","toggle","setToggle","className","exact","activeClassName","Avatar","alt","src","image","logout","ReactDOM","StrictMode","route","AppRoute","document","getElementById"],"mappings":"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","file":"static/js/main.8237b689.chunk.js","sourcesContent":["const ROOT_URL = \"http://localhost:8000\";\r\n\r\nexport async function loginUser(dispatch) {\r\n  const requestOptions = {\r\n    method: \"GET\",\r\n    headers: { \"Content-Type\": \"application/json\" },\r\n    credentials: \"include\",\r\n  };\r\n\r\n  try {\r\n    dispatch({ type: \"REQUEST_LOGIN\" });\r\n    let response = await fetch(\r\n      `${ROOT_URL}/users/google/check`,\r\n      requestOptions\r\n    );\r\n    let data = await response.json();\r\n    if (data.user) {\r\n      dispatch({ type: \"LOGIN_SUCCESS\", payload: data.user });\r\n      localStorage.setItem(\"currentUser\", JSON.stringify(data.user));\r\n      return data;\r\n    } else {\r\n      dispatch({ type: \"LOGIN_ERROR\", error: \"Error Ocurred Try again!\" });\r\n    }\r\n\r\n    return;\r\n  } catch (error) {\r\n    dispatch({ type: \"LOGIN_ERROR\", error: \"Error Ocurred Try again!\" });\r\n  }\r\n}\r\n\r\nexport async function logout(dispatch) {\r\n  dispatch({ type: \"LOGOUT\" });\r\n  localStorage.removeItem(\"currentUser\");\r\n  let response = await fetch(`${ROOT_URL}/users/logout`);\r\n}\r\n","// Context/reducer.js\r\n\r\nlet user = localStorage.getItem(\"currentUser\")\r\n  ? JSON.parse(localStorage.getItem(\"currentUser\"))\r\n  : \"\";\r\n\r\nexport const initialState = {\r\n  user: \"\" || user,\r\n  loading: false,\r\n  errorMessage: null,\r\n};\r\n\r\nexport const AuthReducer = (initialState, action) => {\r\n  switch (action.type) {\r\n    case \"REQUEST_LOGIN\":\r\n      return {\r\n        ...initialState,\r\n        loading: true,\r\n      };\r\n    case \"LOGIN_SUCCESS\":\r\n      return {\r\n        ...initialState,\r\n        user: action.payload,\r\n        loading: false,\r\n      };\r\n    case \"LOGOUT\":\r\n      return {\r\n        ...initialState,\r\n        user: \"\",\r\n      };\r\n\r\n    case \"LOGIN_ERROR\":\r\n      return {\r\n        ...initialState,\r\n        loading: false,\r\n        errorMessage: action.error,\r\n      };\r\n\r\n    default:\r\n      throw new Error(`Unhandled action type: ${action.type}`);\r\n  }\r\n};\r\n","import React, { useReducer } from \"react\";\r\nimport { AuthReducer, initialState } from \"./reducer\";\r\nexport const AuthStateContext = React.createContext();\r\nexport const AuthDispatchContext = React.createContext();\r\n\r\nexport function useAuthState() {\r\n  const context = React.useContext(AuthStateContext);\r\n  if (context === undefined) {\r\n    throw new Error(\"useAuthState must be used within a AuthProvider\");\r\n  }\r\n\r\n  return context;\r\n}\r\n\r\nexport function useAuthDispatch() {\r\n  const context = React.useContext(AuthDispatchContext);\r\n  if (context === undefined) {\r\n    throw new Error(\"useAuthDispatch must be used within a AuthProvider\");\r\n  }\r\n\r\n  return context;\r\n}\r\n\r\nexport const AuthProvider = ({ children }) => {\r\n  const [user, dispatch] = useReducer(AuthReducer, initialState);\r\n\r\n  return (\r\n    <AuthStateContext.Provider value={user}>\r\n      <AuthDispatchContext.Provider value={dispatch}>\r\n        {children}\r\n      </AuthDispatchContext.Provider>\r\n    </AuthStateContext.Provider>\r\n  );\r\n};\r\n","import React, { useEffect, useState, useRef, useMemo } from \"react\";\r\nimport { useAuthState } from \"../Context\";\r\nimport axios from \"axios\";\r\nimport {\r\n  MapContainer,\r\n  TileLayer,\r\n  Circle,\r\n  LayerGroup,\r\n  Tooltip,\r\n  Marker,\r\n  MapConsumer,\r\n} from \"react-leaflet\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Moment from \"react-moment\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport \"leaflet/dist/leaflet.css\";\r\nimport L from \"leaflet\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport icon from \"leaflet/dist/images/marker-icon.png\";\r\nimport iconShadow from \"leaflet/dist/images/marker-shadow.png\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\n\r\nlet DefaultIcon = L.icon({\r\n  iconUrl: icon,\r\n  iconSize: [28, 40],\r\n  iconAnchor: [14, 20],\r\n  shadowUrl: iconShadow,\r\n});\r\n\r\nexport default function EarthMileMap(props) {\r\n  const [earth_mile_id, setEarthMile] = useState(\"\");\r\n  const [position, setPosition] = useState(null);\r\n  const [markerPosition, setMarkerPosition] = useState({ lat: \"\", lng: \"\" });\r\n  const [create, setCreate] = useState(false);\r\n  const [earthMiles, setEarthMiles] = useState([]);\r\n  const [open, setOpen] = React.useState(false);\r\n  const [name, setName] = useState(\"\");\r\n  const [address, setAddress] = useState(\"\");\r\n\r\n  const [err, setErr] = useState(\"\");\r\n  const fillRed = { fillColor: \"red\" };\r\n  const fillBlue = { fillColor: \"blue\" };\r\n  const fillGreen = { fillColor: \"green\" };\r\n  const circleRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    navigator.geolocation.getCurrentPosition(\r\n      async function (position) {\r\n        setPosition(position.coords);\r\n        setMarkerPosition({\r\n          lat: position.coords.latitude,\r\n          lng: position.coords.longitude,\r\n        });\r\n      },\r\n      function errorCallback(error) {\r\n        console.log(error);\r\n        alert(\"could not get your location\");\r\n      },\r\n      {\r\n        timeout: 5000,\r\n        enableHighAccuracy: true,\r\n      }\r\n    );\r\n  }, []);\r\n  useEffect(() => {\r\n    async function getEarthMile() {\r\n      let response = await axios.get(\r\n        `http://localhost:8000/users/getEarthMile`\r\n      );\r\n      console.log(response);\r\n      if (response.data.success) {\r\n        setEarthMile(response.data.earth_mile_id);\r\n      } else {\r\n        setErr(\"Error fetching earth miles\");\r\n      }\r\n    }\r\n    getEarthMile();\r\n  }, [earth_mile_id]);\r\n  useEffect(() => {\r\n    if (position != null) {\r\n      async function getEarthMiles() {\r\n        const { latitude, longitude } = position;\r\n        let response = await axios.get(\r\n          `http://localhost:8000/earth-miles?coordinates=${longitude},${latitude}`\r\n        );\r\n        console.log(response);\r\n        if (response.data.success) {\r\n          setEarthMiles(response.data.earth_miles);\r\n        } else {\r\n          setErr(\"Error fetching earth miles\");\r\n        }\r\n      }\r\n      getEarthMiles();\r\n    }\r\n  }, [position]);\r\n  return (\r\n    <Container>\r\n      <center>\r\n        <h1>Earth Miles Around you</h1>\r\n      </center>\r\n\r\n      {position != null ? (\r\n        <div>\r\n          <MapContainer\r\n            center={{ lat: position.latitude, lng: position.longitude }}\r\n            zoom={13}\r\n            scrollWheelZoom={true}\r\n            style={{ width: \"100%\", height: \"80vh\" }}\r\n          >\r\n            <TileLayer\r\n              attribution='&amp;copy <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\r\n              url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n            />\r\n\r\n            <LayerGroup>\r\n              {earthMiles.map((earthMile) => {\r\n                return (\r\n                  <Circle\r\n                    center={[earthMile.location[1], earthMile.location[0]]}\r\n                    pathOptions={fillBlue}\r\n                    radius={1609}\r\n                  >\r\n                    <Tooltip>\r\n                      <Container>\r\n                        <center>\r\n                          <Typography\r\n                            variant=\"overline\"\r\n                            display=\"block\"\r\n                            gutterBottom\r\n                          >\r\n                            Users: <b>{earthMile.users.length}</b>\r\n                          </Typography>\r\n                          <br />\r\n                          <Typography\r\n                            variant=\"overline\"\r\n                            display=\"block\"\r\n                            gutterBottom\r\n                          >\r\n                            Posts: <b>{earthMile.posts.length}</b>\r\n                          </Typography>\r\n                          <br />\r\n                          <Typography\r\n                            variant=\"overline\"\r\n                            display=\"block\"\r\n                            gutterBottom\r\n                          >\r\n                            Created\r\n                            <b>\r\n                              {\" \"}\r\n                              <Moment\r\n                                fromNow\r\n                                date={earthMile.createdAt}\r\n                              ></Moment>\r\n                            </b>\r\n                          </Typography>\r\n                          <Button\r\n                            variant=\"contained\"\r\n                            color=\"primary\"\r\n                            onClick={() => {\r\n                              window.location.href =\r\n                                \"http://localhost:8000/users/login/google\";\r\n                            }}\r\n                          >\r\n                            View\r\n                          </Button>\r\n                        </center>\r\n                      </Container>\r\n                    </Tooltip>\r\n                  </Circle>\r\n                );\r\n              })}\r\n              <Marker\r\n                position={{ lat: position.latitude, lng: position.longitude }}\r\n                draggable={false}\r\n                title=\"Your location\"\r\n                icon={DefaultIcon}\r\n              ></Marker>\r\n\r\n              {earth_mile_id === \"\" ? (\r\n                <MapConsumer>\r\n                  {(map) => {\r\n                    map.on(\"mouseup\", function (e) {\r\n                      map.dragging.enable();\r\n\r\n                      map.removeEventListener(\"mousemove\");\r\n                    });\r\n                    return (\r\n                      <div>\r\n                        <Circle\r\n                          center={{\r\n                            lat: position.latitude,\r\n                            lng: position.longitude,\r\n                          }}\r\n                          pathOptions={fillGreen}\r\n                          radius={1609}\r\n                        ></Circle>\r\n                        <Circle\r\n                          center={[markerPosition.lat, markerPosition.lng]}\r\n                          pathOptions={fillRed}\r\n                          radius={1300}\r\n                          ref={circleRef}\r\n                          eventHandlers={{\r\n                            mousedown: function () {\r\n                              map.dragging.disable();\r\n                              map.on(\"mousemove\", function (e) {\r\n                                setMarkerPosition({\r\n                                  lat: e.latlng.lat,\r\n                                  lng: e.latlng.lng,\r\n                                });\r\n                              });\r\n                            },\r\n                          }}\r\n                        ></Circle>\r\n                      </div>\r\n                    );\r\n                  }}\r\n                </MapConsumer>\r\n              ) : (\r\n                \"\"\r\n              )}\r\n            </LayerGroup>\r\n            {earth_mile_id === \"\" ? (\r\n              <Button\r\n                style={{\r\n                  float: \"right\",\r\n                  zIndex: \"999\",\r\n                  margin: \"5px\",\r\n                  position: \"relative\",\r\n                }}\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                onClick={() => {\r\n                  setCreate(true);\r\n                  setOpen(true);\r\n                }}\r\n                disabled={open ? true : false}\r\n              >\r\n                Click to create earth mile\r\n              </Button>\r\n            ) : (\r\n              \"\"\r\n            )}\r\n          </MapContainer>\r\n          <Dialog\r\n            open={open}\r\n            onClose={() => setOpen(false)}\r\n            aria-labelledby=\"form-dialog-title\"\r\n          >\r\n            <DialogTitle id=\"form-dialog-title\">Earth Mile Details</DialogTitle>\r\n            <DialogContent>\r\n              <TextField\r\n                autoFocus\r\n                margin=\"dense\"\r\n                id=\"name\"\r\n                label=\"Enter Project Name\"\r\n                type=\"text\"\r\n                value={name}\r\n                onChange={(e) => {\r\n                  setName(e.target.value);\r\n                }}\r\n                fullWidth\r\n              />\r\n              <TextField\r\n                margin=\"dense\"\r\n                id=\"address\"\r\n                label=\"Enter Address\"\r\n                type=\"text\"\r\n                value={address}\r\n                onChange={(e) => {\r\n                  setAddress(e.target.value);\r\n                }}\r\n                fullWidth\r\n              />\r\n            </DialogContent>\r\n            <DialogActions>\r\n              <Button\r\n                onClick={() => {\r\n                  setOpen(false);\r\n                }}\r\n                color=\"primary\"\r\n              >\r\n                Cancel\r\n              </Button>\r\n              <Button\r\n                onClick={async () => {\r\n                  if (name === \"\") {\r\n                    alert(\"Project Name cannot be empty\");\r\n                    return;\r\n                  }\r\n\r\n                  if (address === \"\") {\r\n                    alert(\"Earth mile address cannot be empty\");\r\n                    return;\r\n                  }\r\n                  const data = {\r\n                    coordinates: `${markerPosition.lng},${markerPosition.lat}`,\r\n                    address,\r\n                    name,\r\n                  };\r\n                  try {\r\n                    let res = await axios.post(\r\n                      \"http://localhost:8000/earth-miles/create\",\r\n                      data\r\n                    );\r\n                    console.log(res);\r\n                    if (res.data.success) {\r\n                      alert(\"Earth Mile created successfully\");\r\n                    } else {\r\n                      alert(`Earth Mile creation failed ${res.data.message}`);\r\n                    }\r\n                    setCreate(false);\r\n                    setOpen(false);\r\n                  } catch (error) {\r\n                    alert(\"Error Occured!\");\r\n                  }\r\n                }}\r\n                color=\"primary\"\r\n              >\r\n                Confirm\r\n              </Button>\r\n            </DialogActions>\r\n          </Dialog>\r\n        </div>\r\n      ) : (\r\n        \"\"\r\n      )}\r\n    </Container>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport Login from \"../components/Login\";\r\nimport Home from \"../components/Home\";\r\nimport EarthMileMap from \"../components/EarthMileMap\";\r\nconst routes = [\r\n  {\r\n    path: \"/login\",\r\n    component: Login,\r\n    isPrivate: false,\r\n  },\r\n  {\r\n    path: \"/earthMileMap\",\r\n    component: EarthMileMap,\r\n    isPrivate: false,\r\n  },\r\n  {\r\n    path: \"/\",\r\n    component: Home,\r\n    isPrivate: false,\r\n  },\r\n\r\n  //   {\r\n  //     path: \"/*\",\r\n  //     component: NotFound,\r\n  //     isPrivate: true,\r\n  //   },\r\n];\r\n\r\nexport default routes;\r\n","import React from \"react\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Container from \"@material-ui/core/Container\";\r\n\r\nexport default function Login() {\r\n  return (\r\n    <div>\r\n      <Container style={{ marginTop: \"20%\" }}>\r\n        <center>\r\n          <h1>Login</h1>\r\n          <Button\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            onClick={() => {\r\n              window.location.href = \"http://localhost:8000/users/login/google\";\r\n            }}\r\n          >\r\n            Google Login\r\n          </Button>\r\n        </center>\r\n      </Container>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from \"react\";\nimport { loginUser, useAuthDispatch, useAuthState } from \"../Context\";\n\nexport default function Home(props) {\n  const { user } = useAuthState(); //read the values of loading and errorMessage from context\n  const dispatch = useAuthDispatch(); //get the dispatch method from the useDispatch custom hook\n\n  useEffect(() => {\n    console.log(user);\n    if (user === \"\") {\n      async function login() {\n        let response = await loginUser(dispatch);\n        if (!response.user) props.history.push(\"/login\");\n      }\n      login();\n    }\n  }, [user, dispatch, props]);\n\n  useEffect(() => {\n    if (user.earth_mile_id !== \"\") {\n    } else {\n    }\n  });\n  return <div>Hellow World</div>;\n}\n","import React from \"react\";\r\nimport { Redirect, Route } from \"react-router-dom\";\r\n\r\nimport { useAuthState } from \"../Context\";\r\n\r\nconst AppRoutes = ({ component: Component, path, isPrivate, ...rest }) => {\r\n  const state = useAuthState();\r\n  console.log(state);\r\n  return (\r\n    <Route\r\n      path={path}\r\n      render={(props) =>\r\n        isPrivate && Boolean(state.user === \"\") ? (\r\n          <Redirect to={{ pathname: \"/login\" }} />\r\n        ) : (\r\n          <Component {...props} />\r\n        )\r\n      }\r\n      {...rest}\r\n    />\r\n  );\r\n};\r\n\r\nexport default AppRoutes;\r\n","import React, { useState } from \"react\";\r\nimport \"../css/navbar.css\";\r\nimport { Button, Icon } from \"@material-ui/core\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport { useAuthState, useAuthDispatch, logout } from \"../Context\";\r\n\r\nexport default function Navbar() {\r\n  const [toggle, setToggle] = useState(false);\r\n  const { user } = useAuthState();\r\n  const dispatch = useAuthDispatch(); //get the dispatch method from the useDispatch custom hook\r\n\r\n  return (\r\n    <div>\r\n      <div className={!toggle ? \"topnav\" : \"topnav responsive\"} id=\"myTopnav\">\r\n        <NavLink exact to=\"/\" className=\"a\" activeClassName=\"active\">\r\n          Home\r\n        </NavLink>\r\n\r\n        <NavLink\r\n          exact\r\n          to=\"/earthMileMap\"\r\n          className=\"a\"\r\n          activeClassName=\"active\"\r\n        >\r\n          Map\r\n        </NavLink>\r\n        <NavLink exact to=\"/profile\" className=\"a\" activeClassName=\"active\">\r\n          Profile\r\n        </NavLink>\r\n        {user !== \"\" ? <Avatar alt=\"Remy Sharp\" src={user.image} /> : \"\"}\r\n        {user !== \"\" ? (\r\n          <Button className=\"icon\" onClick={() => logout(dispatch)}>\r\n            Logout\r\n          </Button>\r\n        ) : (\r\n          \"\"\r\n        )}\r\n        {user === \"\" ? (\r\n          <NavLink exact to=\"/login\" className=\"a\" activeClassName=\"active\">\r\n            Login\r\n          </NavLink>\r\n        ) : (\r\n          \"\"\r\n        )}\r\n        <Button className=\"icon\" onClick={() => setToggle(!toggle)}></Button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport routes from \"./config/routes\";\nimport AppRoute from \"./components/AppRoute\";\nimport { BrowserRouter as Router, Switch } from \"react-router-dom\";\nimport { AuthProvider } from \"./Context/context\";\nimport Navbar from \"./components/Navbar\";\nReactDOM.render(\n  <React.StrictMode>\n    <AuthProvider>\n      <Router>\n        <Navbar></Navbar>\n        <Switch>\n          {routes.map((route) => (\n            <AppRoute\n              key={route.path}\n              path={route.path}\n              component={route.component}\n              isPrivate={route.isPrivate}\n            />\n          ))}\n        </Switch>\n      </Router>\n    </AuthProvider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}