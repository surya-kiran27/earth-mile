{"version":3,"sources":["Context/actions.js","Context/reducer.js","Context/context.js","components/TabPanel.js","components/Post_Card.js","components/EarthMileMap.js","config/routes.js","components/Login.js","components/CreatePost.js","components/Home.js","components/AppRoute.js","components/Navbar.js","index.js"],"names":["ROOT_URL","loginUser","dispatch","a","requestOptions","method","headers","credentials","type","fetch","response","json","data","user","payload","localStorage","setItem","JSON","stringify","error","removeItem","initialState","getItem","parse","loading","errorMessage","AuthReducer","action","Error","AuthStateContext","React","createContext","AuthDispatchContext","useAuthState","context","useContext","undefined","useAuthDispatch","AuthProvider","children","useReducer","Provider","value","TabPanel","props","index","other","role","hidden","id","aria-labelledby","Box","p","Typography","useStyles","makeStyles","cardHeaderRoot","overflow","cardHeaderContent","PostCard","classes","Card","className","CardHeader","avatar","Avatar","alt","username","src","image","root","content","title","subheader","fromNow","date","createdAt","CardContent","variant","gutterBottom","noWrap","color","description","CardActions","Button","size","DefaultIcon","L","icon","iconUrl","iconSize","iconAnchor","shadowUrl","iconShadow","routes","path","component","Container","style","marginTop","onClick","window","location","href","isPrivate","useState","earth_mile_id","setEarthMile","position","setPosition","lat","lng","markerPosition","setMarkerPosition","setCreate","earthMiles","setEarthMiles","open","setOpen","name","setName","address","setAddress","redirect","state","setErr","fillRed","fillColor","fillBlue","fillGreen","circleRef","useRef","history","useHistory","useEffect","navigator","geolocation","getCurrentPosition","coords","latitude","longitude","console","log","alert","timeout","enableHighAccuracy","axios","get","success","getEarthMile","earth_miles","getEarthMiles","MapContainer","center","zoom","scrollWheelZoom","width","height","TileLayer","attribution","url","LayerGroup","map","earthMile","Circle","pathOptions","radius","Popup","display","users","length","No_Posts","_id","push","pathname","Marker","draggable","MapConsumer","on","e","dragging","enable","removeEventListener","ref","eventHandlers","mousedown","disable","latlng","float","zIndex","margin","disabled","Dialog","onClose","DialogTitle","DialogContent","TextField","autoFocus","label","onChange","target","fullWidth","DialogActions","coordinates","post","res","message","useLocation","setTitle","setDescription","body","setBody","category","setCategory","Input","placeholder","TextareaAutosize","rowsMax","rowsMin","InputLabel","Select","labelId","event","MenuItem","setValue","setEarthMile_id","earth_mile","humans","setHumans","animals","setAnimals","environment","setEnvironment","login","posts","getPosts","AppBar","Toolbar","Tabs","newValue","indicatorColor","textColor","aria-label","Tab","onChangeIndex","humanPost","animalPost","environmentPost","AppRoutes","Component","rest","render","Boolean","to","Navbar","toggle","setToggle","exact","activeClassName","Icon","logout","ReactDOM","StrictMode","route","AppRoute","document","getElementById"],"mappings":"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","file":"static/js/main.84804e96.chunk.js","sourcesContent":["const ROOT_URL = \"http://localhost:8000\";\r\n\r\nexport async function loginUser(dispatch) {\r\n  const requestOptions = {\r\n    method: \"GET\",\r\n    headers: { \"Content-Type\": \"application/json\" },\r\n    credentials: \"include\",\r\n  };\r\n\r\n  try {\r\n    dispatch({ type: \"REQUEST_LOGIN\" });\r\n    let response = await fetch(\r\n      `${ROOT_URL}/users/google/check`,\r\n      requestOptions\r\n    );\r\n    let data = await response.json();\r\n    if (data.user) {\r\n      dispatch({ type: \"LOGIN_SUCCESS\", payload: data.user });\r\n      localStorage.setItem(\"currentUser\", JSON.stringify(data.user));\r\n      return data;\r\n    } else {\r\n      dispatch({ type: \"LOGIN_ERROR\", error: \"Error Ocurred Try again!\" });\r\n    }\r\n\r\n    return;\r\n  } catch (error) {\r\n    dispatch({ type: \"LOGIN_ERROR\", error: \"Error Ocurred Try again!\" });\r\n  }\r\n}\r\n\r\nexport async function logout(dispatch) {\r\n  dispatch({ type: \"LOGOUT\" });\r\n  localStorage.removeItem(\"currentUser\");\r\n  let response = await fetch(`${ROOT_URL}/users/logout`);\r\n}\r\n","// Context/reducer.js\r\n\r\nlet user = localStorage.getItem(\"currentUser\")\r\n  ? JSON.parse(localStorage.getItem(\"currentUser\"))\r\n  : \"\";\r\n\r\nexport const initialState = {\r\n  user: \"\" || user,\r\n  loading: false,\r\n  errorMessage: null,\r\n};\r\n\r\nexport const AuthReducer = (initialState, action) => {\r\n  switch (action.type) {\r\n    case \"REQUEST_LOGIN\":\r\n      return {\r\n        ...initialState,\r\n        loading: true,\r\n      };\r\n    case \"LOGIN_SUCCESS\":\r\n      return {\r\n        ...initialState,\r\n        user: action.payload,\r\n        loading: false,\r\n      };\r\n    case \"LOGOUT\":\r\n      return {\r\n        ...initialState,\r\n        user: \"\",\r\n      };\r\n\r\n    case \"LOGIN_ERROR\":\r\n      return {\r\n        ...initialState,\r\n        loading: false,\r\n        errorMessage: action.error,\r\n      };\r\n\r\n    default:\r\n      throw new Error(`Unhandled action type: ${action.type}`);\r\n  }\r\n};\r\n","import React, { useReducer } from \"react\";\r\nimport { AuthReducer, initialState } from \"./reducer\";\r\nexport const AuthStateContext = React.createContext();\r\nexport const AuthDispatchContext = React.createContext();\r\n\r\nexport function useAuthState() {\r\n  const context = React.useContext(AuthStateContext);\r\n  if (context === undefined) {\r\n    throw new Error(\"useAuthState must be used within a AuthProvider\");\r\n  }\r\n\r\n  return context;\r\n}\r\n\r\nexport function useAuthDispatch() {\r\n  const context = React.useContext(AuthDispatchContext);\r\n  if (context === undefined) {\r\n    throw new Error(\"useAuthDispatch must be used within a AuthProvider\");\r\n  }\r\n\r\n  return context;\r\n}\r\n\r\nexport const AuthProvider = ({ children }) => {\r\n  const [user, dispatch] = useReducer(AuthReducer, initialState);\r\n\r\n  return (\r\n    <AuthStateContext.Provider value={user}>\r\n      <AuthDispatchContext.Provider value={dispatch}>\r\n        {children}\r\n      </AuthDispatchContext.Provider>\r\n    </AuthStateContext.Provider>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Box from \"@material-ui/core/Box\";\r\nexport default function TabPanel(props) {\r\n  const { children, value, index, ...other } = props;\r\n\r\n  return (\r\n    <div\r\n      role=\"tabpanel\"\r\n      hidden={value !== index}\r\n      id={`simple-tabpanel-${index}`}\r\n      aria-labelledby={`simple-tab-${index}`}\r\n      {...other}\r\n    >\r\n      {value === index && (\r\n        <Box p={3}>\r\n          <Typography>{children}</Typography>\r\n        </Box>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport {\r\n  Button,\r\n  Typography,\r\n  Card,\r\n  CardHeader,\r\n  CardContent,\r\n  CardActions,\r\n  Avatar,\r\n} from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Moment from \"react-moment\";\r\n\r\nconst useStyles = makeStyles({\r\n  cardHeaderRoot: {\r\n    overflow: \"hidden\",\r\n  },\r\n  cardHeaderContent: {\r\n    overflow: \"hidden\",\r\n  },\r\n});\r\nexport default function PostCard(props) {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <div>\r\n      <Card className=\"card\">\r\n        <CardHeader\r\n          avatar={\r\n            <Avatar className=\"avatar\" alt={props.username} src={props.image} />\r\n          }\r\n          className={{\r\n            root: classes.cardHeaderRoot,\r\n            content: classes.cardHeaderContent,\r\n          }}\r\n          title={props.username}\r\n          subheader={<Moment fromNow date={props.createdAt} />}\r\n        />\r\n\r\n        <CardContent\r\n          className={{\r\n            root: classes.cardHeaderRoot,\r\n            content: classes.cardHeaderContent,\r\n          }}\r\n        >\r\n          <Typography variant=\"h6\" gutterBottom>\r\n            {props.title}\r\n          </Typography>\r\n          <Typography noWrap variant=\"body2\" color=\"textSecondary\">\r\n            {props.description}\r\n          </Typography>\r\n        </CardContent>\r\n        <CardActions>\r\n          <Button size=\"small\">View</Button>\r\n        </CardActions>\r\n      </Card>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect, useState, useRef, useMemo } from \"react\";\r\nimport { useAuthState } from \"../Context\";\r\nimport axios from \"axios\";\r\nimport {\r\n  MapContainer,\r\n  TileLayer,\r\n  Circle,\r\n  LayerGroup,\r\n  Tooltip,\r\n  Marker,\r\n  MapConsumer,\r\n  Popup,\r\n} from \"react-leaflet\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Moment from \"react-moment\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport \"leaflet/dist/leaflet.css\";\r\nimport L from \"leaflet\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport icon from \"leaflet/dist/images/marker-icon.png\";\r\nimport iconShadow from \"leaflet/dist/images/marker-shadow.png\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nlet DefaultIcon = L.icon({\r\n  iconUrl: icon,\r\n  iconSize: [28, 40],\r\n  iconAnchor: [14, 20],\r\n  shadowUrl: iconShadow,\r\n});\r\n\r\nexport default function EarthMileMap(props) {\r\n  const [earth_mile_id, setEarthMile] = useState(\"\");\r\n  const [position, setPosition] = useState(null);\r\n  const [markerPosition, setMarkerPosition] = useState({ lat: \"\", lng: \"\" });\r\n  const [create, setCreate] = useState(false);\r\n  const [earthMiles, setEarthMiles] = useState([]);\r\n  const [open, setOpen] = React.useState(false);\r\n  const [name, setName] = useState(\"\");\r\n  const [address, setAddress] = useState(\"\");\r\n  const [redirect, setRedirect] = useState({ redirect: false, state: null });\r\n  const [err, setErr] = useState(\"\");\r\n  const fillRed = { fillColor: \"red\" };\r\n  const fillBlue = { fillColor: \"blue\" };\r\n  const fillGreen = { fillColor: \"green\" };\r\n  const circleRef = useRef(null);\r\n  let history = useHistory();\r\n\r\n  useEffect(() => {\r\n    navigator.geolocation.getCurrentPosition(\r\n      async function (position) {\r\n        setPosition(position.coords);\r\n        setMarkerPosition({\r\n          lat: position.coords.latitude,\r\n          lng: position.coords.longitude,\r\n        });\r\n      },\r\n      function errorCallback(error) {\r\n        console.log(error);\r\n        alert(\"could not get your location\");\r\n      },\r\n      {\r\n        timeout: 5000,\r\n        enableHighAccuracy: true,\r\n      }\r\n    );\r\n  }, []);\r\n  useEffect(() => {\r\n    async function getEarthMile() {\r\n      let response = await axios.get(\r\n        `http://localhost:8000/users/getEarthMile`\r\n      );\r\n      console.log(response);\r\n      if (response.data.success) {\r\n        setEarthMile(response.data.earth_mile_id);\r\n      } else {\r\n        setErr(\"Error fetching earth miles\");\r\n      }\r\n    }\r\n    getEarthMile();\r\n  }, [earth_mile_id]);\r\n  useEffect(() => {\r\n    if (position != null) {\r\n      async function getEarthMiles() {\r\n        const { latitude, longitude } = position;\r\n        let response = await axios.get(\r\n          `http://localhost:8000/earth-miles?coordinates=${longitude},${latitude}`\r\n        );\r\n        console.log(response);\r\n        if (response.data.success) {\r\n          setEarthMiles(response.data.earth_miles);\r\n        } else {\r\n          setErr(\"Error fetching earth miles\");\r\n        }\r\n      }\r\n      getEarthMiles();\r\n    }\r\n  }, [position]);\r\n  return (\r\n    <Container>\r\n      <center>\r\n        <h1>Earth Miles Around you</h1>\r\n      </center>\r\n\r\n      {position != null ? (\r\n        <div>\r\n          <MapContainer\r\n            center={{ lat: position.latitude, lng: position.longitude }}\r\n            zoom={13}\r\n            scrollWheelZoom={true}\r\n            style={{ width: \"100%\", height: \"80vh\" }}\r\n          >\r\n            <TileLayer\r\n              attribution='&amp;copy <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\r\n              url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n            />\r\n\r\n            <LayerGroup>\r\n              {earthMiles.map((earthMile) => {\r\n                return (\r\n                  <Circle\r\n                    center={[earthMile.location[1], earthMile.location[0]]}\r\n                    pathOptions={fillBlue}\r\n                    radius={1609}\r\n                  >\r\n                    <Popup>\r\n                      <Container>\r\n                        <center>\r\n                          <Typography\r\n                            variant=\"overline\"\r\n                            display=\"block\"\r\n                            gutterBottom\r\n                          >\r\n                            Users: <b>{earthMile.users.length}</b>\r\n                          </Typography>\r\n                          <br />\r\n                          <Typography\r\n                            variant=\"overline\"\r\n                            display=\"block\"\r\n                            gutterBottom\r\n                          >\r\n                            Posts: <b>{earthMile.No_Posts}</b>\r\n                          </Typography>\r\n                          <br />\r\n                          <Typography\r\n                            variant=\"overline\"\r\n                            display=\"block\"\r\n                            gutterBottom\r\n                          >\r\n                            Created\r\n                            <b>\r\n                              {\" \"}\r\n                              <Moment\r\n                                fromNow\r\n                                date={earthMile.createdAt}\r\n                              ></Moment>\r\n                            </b>\r\n                          </Typography>\r\n                          <Button\r\n                            variant=\"contained\"\r\n                            color=\"primary\"\r\n                            onClick={() => {\r\n                              console.log(\"cliecked\", earthMile._id);\r\n                              history.push({\r\n                                pathname: \"/\",\r\n                                state: {\r\n                                  earth_mile_id: earthMile._id,\r\n                                },\r\n                              });\r\n                            }}\r\n                          >\r\n                            View\r\n                          </Button>\r\n                        </center>\r\n                      </Container>\r\n                    </Popup>\r\n                  </Circle>\r\n                );\r\n              })}\r\n              <Marker\r\n                position={{ lat: position.latitude, lng: position.longitude }}\r\n                draggable={false}\r\n                title=\"Your location\"\r\n                icon={DefaultIcon}\r\n              ></Marker>\r\n\r\n              {earth_mile_id === \"\" ? (\r\n                <MapConsumer>\r\n                  {(map) => {\r\n                    map.on(\"mouseup\", function (e) {\r\n                      map.dragging.enable();\r\n\r\n                      map.removeEventListener(\"mousemove\");\r\n                    });\r\n                    return (\r\n                      <div>\r\n                        <Circle\r\n                          center={{\r\n                            lat: position.latitude,\r\n                            lng: position.longitude,\r\n                          }}\r\n                          pathOptions={fillGreen}\r\n                          radius={1609}\r\n                        ></Circle>\r\n                        <Circle\r\n                          center={[markerPosition.lat, markerPosition.lng]}\r\n                          pathOptions={fillRed}\r\n                          radius={1300}\r\n                          ref={circleRef}\r\n                          eventHandlers={{\r\n                            mousedown: function () {\r\n                              map.dragging.disable();\r\n                              map.on(\"mousemove\", function (e) {\r\n                                setMarkerPosition({\r\n                                  lat: e.latlng.lat,\r\n                                  lng: e.latlng.lng,\r\n                                });\r\n                              });\r\n                            },\r\n                          }}\r\n                        ></Circle>\r\n                      </div>\r\n                    );\r\n                  }}\r\n                </MapConsumer>\r\n              ) : (\r\n                \"\"\r\n              )}\r\n            </LayerGroup>\r\n            {earth_mile_id === \"\" ? (\r\n              <Button\r\n                style={{\r\n                  float: \"right\",\r\n                  zIndex: \"999\",\r\n                  margin: \"5px\",\r\n                  position: \"relative\",\r\n                }}\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                onClick={() => {\r\n                  setCreate(true);\r\n                  setOpen(true);\r\n                }}\r\n                disabled={open ? true : false}\r\n              >\r\n                Click to create earth mile\r\n              </Button>\r\n            ) : (\r\n              \"\"\r\n            )}\r\n          </MapContainer>\r\n          <Dialog\r\n            open={open}\r\n            onClose={() => setOpen(false)}\r\n            aria-labelledby=\"form-dialog-title\"\r\n          >\r\n            <DialogTitle id=\"form-dialog-title\">Earth Mile Details</DialogTitle>\r\n            <DialogContent>\r\n              <TextField\r\n                autoFocus\r\n                margin=\"dense\"\r\n                id=\"name\"\r\n                label=\"Enter Project Name\"\r\n                type=\"text\"\r\n                value={name}\r\n                onChange={(e) => {\r\n                  setName(e.target.value);\r\n                }}\r\n                fullWidth\r\n              />\r\n              <TextField\r\n                margin=\"dense\"\r\n                id=\"address\"\r\n                label=\"Enter Address\"\r\n                type=\"text\"\r\n                value={address}\r\n                onChange={(e) => {\r\n                  setAddress(e.target.value);\r\n                }}\r\n                fullWidth\r\n              />\r\n            </DialogContent>\r\n            <DialogActions>\r\n              <Button\r\n                onClick={() => {\r\n                  setOpen(false);\r\n                }}\r\n                color=\"primary\"\r\n              >\r\n                Cancel\r\n              </Button>\r\n              <Button\r\n                onClick={async () => {\r\n                  if (name === \"\") {\r\n                    alert(\"Project Name cannot be empty\");\r\n                    return;\r\n                  }\r\n\r\n                  if (address === \"\") {\r\n                    alert(\"Earth mile address cannot be empty\");\r\n                    return;\r\n                  }\r\n                  const data = {\r\n                    coordinates: `${markerPosition.lng},${markerPosition.lat}`,\r\n                    address,\r\n                    name,\r\n                  };\r\n                  try {\r\n                    let res = await axios.post(\r\n                      \"http://localhost:8000/earth-miles/create\",\r\n                      data\r\n                    );\r\n                    console.log(res);\r\n                    if (res.data.success) {\r\n                      alert(\"Earth Mile created successfully\");\r\n                    } else {\r\n                      alert(`Earth Mile creation failed ${res.data.message}`);\r\n                    }\r\n                    setCreate(false);\r\n                    setOpen(false);\r\n                  } catch (error) {\r\n                    alert(\"Error Occured!\");\r\n                  }\r\n                }}\r\n                color=\"primary\"\r\n              >\r\n                Confirm\r\n              </Button>\r\n            </DialogActions>\r\n          </Dialog>\r\n        </div>\r\n      ) : (\r\n        \"\"\r\n      )}\r\n    </Container>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport Login from \"../components/Login\";\r\nimport Home from \"../components/Home\";\r\nimport EarthMileMap from \"../components/EarthMileMap\";\r\nimport CreatePost from \"../components/CreatePost\";\r\nconst routes = [\r\n  {\r\n    path: \"/login\",\r\n    component: Login,\r\n    isPrivate: false,\r\n  },\r\n  {\r\n    path: \"/earthMileMap\",\r\n    component: EarthMileMap,\r\n    isPrivate: true,\r\n  },\r\n  {\r\n    path: \"/createPost\",\r\n    component: CreatePost,\r\n    isPrivate: true,\r\n  },\r\n  {\r\n    path: \"/\",\r\n    component: Home,\r\n    isPrivate: false,\r\n  },\r\n\r\n  //   {\r\n  //     path: \"/*\",\r\n  //     component: NotFound,\r\n  //     isPrivate: true,\r\n  //   },\r\n];\r\n\r\nexport default routes;\r\n","import React from \"react\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Container from \"@material-ui/core/Container\";\r\n\r\nexport default function Login() {\r\n  return (\r\n    <div>\r\n      <Container style={{ marginTop: \"20%\" }}>\r\n        <center>\r\n          <h1>Login</h1>\r\n          <Button\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            onClick={() => {\r\n              window.location.href = \"http://localhost:8000/users/login/google\";\r\n            }}\r\n          >\r\n            Google Login\r\n          </Button>\r\n        </center>\r\n      </Container>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState } from \"react\";\r\nimport {\r\n  Input,\r\n  Button,\r\n  Container,\r\n  Typography,\r\n  Select,\r\n  MenuItem,\r\n  InputLabel,\r\n  Paper,\r\n  Grid,\r\n  TextareaAutosize,\r\n} from \"@material-ui/core\";\r\nimport axios from \"axios\";\r\nimport { useLocation } from \"react-router-dom\";\r\n\r\nexport default function CreatePost(props) {\r\n  const location = useLocation();\r\n\r\n  const [title, setTitle] = useState(\"\");\r\n  const [description, setDescription] = useState(\"\");\r\n  const [body, setBody] = useState(\"\");\r\n  const [category, setCategory] = React.useState(\"\");\r\n  const handleChange = (event) => {\r\n    setCategory(event.target.value);\r\n  };\r\n  return (\r\n    <div className=\"wrapper\">\r\n      <div className=\"row\">\r\n        <center>\r\n          <Typography display=\"block\" variant=\"h3\" gutterBottom>\r\n            Create Post\r\n          </Typography>\r\n        </center>\r\n      </div>\r\n\r\n      <div className=\"row\">\r\n        <Input\r\n          placeholder=\"Enter Title\"\r\n          fullWidth\r\n          value={title}\r\n          onChange={(e) => {\r\n            setTitle(e.target.value);\r\n          }}\r\n        />\r\n      </div>\r\n      <div className=\"row\">\r\n        <Input\r\n          fullWidth\r\n          value={description}\r\n          placeholder=\"Enter Description\"\r\n          onChange={(e) => {\r\n            setDescription(e.target.value);\r\n          }}\r\n        />\r\n      </div>\r\n      <div className=\"row\">\r\n        <TextareaAutosize\r\n          className=\"textarea\"\r\n          value={body}\r\n          rowsMax={5}\r\n          rowsMin={5}\r\n          placeholder=\"Enter Body\"\r\n          onChange={(e) => {\r\n            setBody(e.target.value);\r\n          }}\r\n        />\r\n      </div>\r\n      <div className=\"row\">\r\n        <InputLabel id=\"demo-simple-select-label\">Category</InputLabel>\r\n        <Select\r\n          fullWidth\r\n          labelId=\"demo-simple-select-label\"\r\n          id=\"demo-simple-select\"\r\n          value={category}\r\n          onChange={handleChange}\r\n        >\r\n          <MenuItem value={\"humans\"}>Humans</MenuItem>\r\n          <MenuItem value={\"animals\"}>Animals</MenuItem>\r\n          <MenuItem value={\"environment\"}>Environment</MenuItem>\r\n        </Select>\r\n      </div>\r\n      <div className=\"row\">\r\n        <Button\r\n          fullWidth\r\n          variant=\"outlined\"\r\n          color=\"secondary\"\r\n          onClick={async () => {\r\n            const data = {\r\n              title,\r\n              body,\r\n              description,\r\n              category,\r\n              earth_mile_id: location.state.earth_mile_id,\r\n            };\r\n\r\n            const res = await axios.post(\r\n              \"http://localhost:8000/earth-miles/create-post\",\r\n              data\r\n            );\r\n            console.log(res);\r\n            if (res.data.success) {\r\n              alert(\"Post created\");\r\n            }\r\n          }}\r\n        >\r\n          Sumbit\r\n        </Button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { loginUser, useAuthDispatch, useAuthState } from \"../Context\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Tabs from \"@material-ui/core/Tabs\";\nimport Tab from \"@material-ui/core/Tab\";\nimport TabPanel from \"./TabPanel\";\nimport SwipeableViews from \"react-swipeable-views\";\nimport { Button, Container, Toolbar, Typography } from \"@material-ui/core\";\nimport { useLocation } from \"react-router-dom\";\nimport PostCard from \"../components/Post_Card\";\nimport \"../css/home.css\";\nimport { useHistory } from \"react-router-dom\";\n\nexport default function Home(props) {\n  const location = useLocation();\n  const dispatch = useAuthDispatch();\n  let history = useHistory();\n\n  const [value, setValue] = React.useState(0);\n  const [earth_mile_id, setEarthMile_id] = useState(\n    location.state && location.state.earth_mile_id !== undefined\n      ? location.state.earth_mile_id\n      : \"\"\n  );\n\n  const [earth_mile, setEarthMile] = useState(null);\n  const [humans, setHumans] = useState([]);\n  const [animals, setAnimals] = useState([]);\n  const [environment, setEnvironment] = useState([]);\n  const [err, setErr] = useState(\"\");\n\n  const login = async () => {\n    let response = await loginUser(dispatch);\n    if (!response.user) props.history.push(\"/login\");\n  };\n  useEffect(() => {\n    login();\n  }, []);\n  useEffect(() => {\n    async function getEarthMile() {\n      let response = await axios.get(\n        `http://localhost:8000/users/getEarthMile`\n      );\n      console.log(response, \"get earth mile id\");\n      if (response.data.success) {\n        setEarthMile_id(response.data.earth_mile_id);\n      } else {\n        setErr(\"Error fetching earth miles\");\n      }\n    }\n    if (earth_mile_id === \"\") getEarthMile();\n  }, [earth_mile_id]);\n  useEffect(() => {\n    async function getEarthMile() {\n      let response = await axios.get(\n        `http://localhost:8000/earth-miles/earth-mile?id=${earth_mile_id}`\n      );\n      console.log(response, \"get earthmile\");\n      if (response.data.success) {\n        setEarthMile(response.data.earth_mile);\n      } else {\n        setErr(\"Error fetching earth miles\");\n      }\n    }\n    if (earth_mile_id !== \"\") getEarthMile();\n  }, [earth_mile_id]);\n  useEffect(() => {\n    const category = [\"humans\", \"animals\", \"environment\"];\n    console.log(`category ${category[value]}`);\n    async function getPosts() {\n      let response = await axios.get(\n        `http://localhost:8000/earth-miles/Posts?id=${earth_mile_id}&category=${category[value]}`\n      );\n      console.log(response, \"get posts\");\n      if (response.data.success) {\n        if (value === 0) setHumans(response.data.posts);\n        if (value === 1) setAnimals(response.data.posts);\n        if (value === 2) setEnvironment(response.data.posts);\n      } else {\n        setErr(\"Error fetching earth miles\");\n      }\n    }\n    getPosts();\n  }, [value]);\n  const handleChange = (event, newValue) => {\n    setValue(newValue);\n  };\n\n  const handleChangeIndex = (index) => {\n    setValue(index);\n  };\n\n  return (\n    <div>\n      {earth_mile_id === \"\" ? (\n        <div>\n          <h1>\n            You have not joined any earth mile,{\" \"}\n            <b>\n              <a href=\"/earthMileMap\">Click here</a>\n            </b>{\" \"}\n            to join now\n          </h1>\n        </div>\n      ) : (\n        <div style={{ width: \"80%\", margin: \"auto\", marginTop: \"10px\" }}>\n          {earth_mile != null ? (\n            <AppBar position=\"static\" color=\"default\">\n              <Toolbar>\n                <Container>\n                  <Typography>\n                    Project Name: <b>{earth_mile.name} </b>\n                  </Typography>{\" \"}\n                  <Typography>\n                    Users: <b>{earth_mile.users.length}</b>\n                  </Typography>{\" \"}\n                  <Typography>\n                    Posts:<b>{earth_mile.No_Posts}</b>\n                  </Typography>{\" \"}\n                  <Button variant=\"outlined\" style={{ color: \"red\" }}>\n                    View on map\n                  </Button>{\" \"}\n                  <Button\n                    variant=\"outlined\"\n                    color=\"primary\"\n                    onClick={() => {\n                      history.push({\n                        pathname: \"/createPost\",\n                        state: {\n                          earth_mile_id,\n                        },\n                      });\n                    }}\n                  >\n                    Create Post\n                  </Button>\n                </Container>\n              </Toolbar>\n              <Tabs\n                value={value}\n                onChange={handleChange}\n                indicatorColor=\"primary\"\n                textColor=\"primary\"\n                variant=\"fullWidth\"\n                aria-label=\"full width tabs example\"\n              >\n                <Tab label=\"Humans\" />\n                <Tab label=\"Animals\" />\n                <Tab label=\"Environment\" />\n              </Tabs>\n              <SwipeableViews index={value} onChangeIndex={handleChangeIndex}>\n                <TabPanel value={0} index={0}>\n                  {humans.length === 0 ? (\n                    <h3>There are no posts, create a post!</h3>\n                  ) : (\n                    humans.map((humanPost) => {\n                      return (\n                        <PostCard\n                          username={humanPost.username}\n                          image={humanPost.image}\n                          createdAt={humanPost.createdAt}\n                          title={humanPost.title}\n                          description={humanPost.description}\n                        ></PostCard>\n                      );\n                    })\n                  )}\n                </TabPanel>\n                <TabPanel value={1} index={1}>\n                  {animals.length === 0 ? (\n                    <h3>There are no posts, create a post!</h3>\n                  ) : (\n                    animals.map((animalPost) => {\n                      return (\n                        <PostCard\n                          username={animalPost.username}\n                          image={animalPost.image}\n                          createdAt={animalPost.createdAt}\n                          title={animalPost.title}\n                          description={animalPost.description}\n                        ></PostCard>\n                      );\n                    })\n                  )}\n                </TabPanel>\n                <TabPanel value={2} index={2}>\n                  {environment.length === 0 ? (\n                    <h3>There are no posts, create a post!</h3>\n                  ) : (\n                    environment.map((environmentPost) => {\n                      return (\n                        <PostCard\n                          username={environmentPost.username}\n                          image={environmentPost.image}\n                          createdAt={environmentPost.createdAt}\n                          title={environmentPost.title}\n                          description={environmentPost.description}\n                        ></PostCard>\n                      );\n                    })\n                  )}\n                </TabPanel>\n              </SwipeableViews>\n            </AppBar>\n          ) : (\n            <div>\n              <h1>Error occured, earth mile not found!</h1>\n            </div>\n          )}\n        </div>\n      )}\n    </div>\n  );\n}\n","import React from \"react\";\r\nimport { Redirect, Route } from \"react-router-dom\";\r\n\r\nimport { useAuthState } from \"../Context\";\r\nimport \"../css/CreatePost.css\";\r\nconst AppRoutes = ({ component: Component, path, isPrivate, ...rest }) => {\r\n  const state = useAuthState();\r\n  console.log(state);\r\n  return (\r\n    <Route\r\n      path={path}\r\n      render={(props) =>\r\n        isPrivate && Boolean(state.user === \"\") ? (\r\n          <Redirect to={{ pathname: \"/login\" }} />\r\n        ) : (\r\n          <Component {...props} />\r\n        )\r\n      }\r\n      {...rest}\r\n    />\r\n  );\r\n};\r\n\r\nexport default AppRoutes;\r\n","import React, { useState } from \"react\";\r\nimport \"../css/navbar.css\";\r\nimport { Button, Container, Icon } from \"@material-ui/core\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport { useAuthState, useAuthDispatch, logout } from \"../Context\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\n\r\nexport default function Navbar() {\r\n  const [toggle, setToggle] = useState(false);\r\n  const { user } = useAuthState();\r\n  const dispatch = useAuthDispatch(); //get the dispatch method from the useDispatch custom hook\r\n  return (\r\n    <div>\r\n      <div className={!toggle ? \"topnav\" : \"topnav responsive\"} id=\"myTopnav\">\r\n        <NavLink exact to=\"/\" className=\"a\" activeClassName=\"active\">\r\n          Home\r\n        </NavLink>\r\n\r\n        <NavLink\r\n          exact\r\n          to=\"/earthMileMap\"\r\n          className=\"a\"\r\n          activeClassName=\"active\"\r\n        >\r\n          Map\r\n        </NavLink>\r\n        <NavLink exact to=\"/profile\" className=\"a\" activeClassName=\"active\">\r\n          Profile\r\n        </NavLink>\r\n        <Button className=\"icon\" onClick={() => setToggle(!toggle)}>\r\n          <Icon className=\"fa fa-bars\"></Icon>\r\n        </Button>\r\n        {user !== \"\" ? (\r\n          <Avatar className=\"avatar\" alt=\"Remy Sharp\" src={user.image} />\r\n        ) : (\r\n          \"\"\r\n        )}\r\n        {user !== \"\" ? (\r\n          <Typography\r\n            variant=\"overline\"\r\n            className=\"name\"\r\n            display=\"block\"\r\n            gutterBottom\r\n          >\r\n            Welcome <b>{user.username}</b>\r\n          </Typography>\r\n        ) : (\r\n          \"\"\r\n        )}\r\n        {user !== \"\" ? (\r\n          <a\r\n            href=\"javascript:void(0)\"\r\n            className=\"a\"\r\n            onClick={() => logout(dispatch)}\r\n          >\r\n            Logout\r\n          </a>\r\n        ) : (\r\n          \"\"\r\n        )}\r\n\r\n        {user === \"\" ? (\r\n          <NavLink exact to=\"/login\" className=\"a\" activeClassName=\"active\">\r\n            Login\r\n          </NavLink>\r\n        ) : (\r\n          \"\"\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport routes from \"./config/routes\";\nimport AppRoute from \"./components/AppRoute\";\nimport { BrowserRouter as Router, Switch } from \"react-router-dom\";\nimport { AuthProvider } from \"./Context/context\";\nimport Navbar from \"./components/Navbar\";\nReactDOM.render(\n  <React.StrictMode>\n    <AuthProvider>\n      <Router>\n        <Navbar></Navbar>\n        <Switch>\n          {routes.map((route) => (\n            <AppRoute\n              key={route.path}\n              path={route.path}\n              component={route.component}\n              isPrivate={route.isPrivate}\n            />\n          ))}\n        </Switch>\n      </Router>\n    </AuthProvider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}